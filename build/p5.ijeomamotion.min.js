!function(a){REVISION="1",_timeMode=a.FRAMES,_valueMode=a.ABSOLUTE,p5.prototype.registerMethod("pre",function(){for(var a=0;a<_motions.length;a++)_motions[a].isAutoUpdating()&&!_motions[a]._hasController&&_motions[a].update()}),p5.prototype.createMotion=function(b,c,d){return _current=new a(b,c,d)},p5.prototype.createTween=function(b,c,d,e,f,g){return _current=new a.Tween(b,c,d,e,f,g)},p5.prototype.createParallel=function(b){return _current=new a.Parallel(b)},p5.prototype.createSequence=function(b){return _current=new a.Sequence(b)},p5.prototype.createTimeline=function(b){return _current=new a.Timeline(b)};var b=function(){if("string"==typeof arguments[0])for(var a=0;a<_motions.length;a++)if(_motions.getName()==arguments[0])return _motions[a]};p5.prototype.goto=function(){"number"==typeof arguments[0]?_current=_motions[arguments[0]]:"string"==typeof arguments[0]?_current=b(arguments[0]):"object"==typeof arguments[0]&&(_current=arguments[0])},p5.prototype.timeMode=function(a){return _timeMode=a,this},p5.prototype.seconds=function(){return _timeMode=a.SECONDS,this},p5.prototype.frames=function(){return _timeMode=a.FRAMES,this},_currentEasing=null,p5.prototype.easingMode=function(a){return _currentEasing=a,this},p5.prototype.easing=function(a){return _currentEasing=a,this},p5.prototype.relative=function(){return _valueMode=a.RELATIVE,this},p5.prototype.absolute=function(){return _valueMode=a.ABSOLUTE,this},p5.prototype.valueMode=function(a){return _valueMode=a,this},_current=null,p5.prototype.tween=function(b,c,d,e,f,g){var h=new a.Tween(b,c,d,e,f,g).setValueMode(_valueMode);return _currentEasing&&h.easing(_currentEasing),_current&&!_current.isPlaying()?_current.isTimeline()&&_currentKeyframe?_currentKeyframe.add(h):_current.add(h):_current=h,h},p5.prototype.beginParallel=function(b){return _current=new a.Parallel,"undefined"!=typeof b&&_current.setName(b),_current},p5.prototype.endParallel=function(){_current.updateTweens()},p5.prototype.beginSequence=function(b){return _current=new a.Sequence,"undefined"!=typeof b&&_current.setName(b),_current},p5.prototype.endSequence=function(){_current.updateTweens()},p5.prototype.beginTimeline=function(b){return _current=new a.Timeline,"undefined"!=typeof b&&_current.setName(b),_current},p5.prototype.endTimeline=function(){_current.updateTweens()},_currentKeyframe=null,p5.prototype.beginKeyframe=function(b,c){return _currentKeyframe=new a.Keyframe,1==arguments.length&&"undefined"!=typeof arguments[0]?"number"==typeof arguments[0]?_currentKeyframe.delay(arguments[0]):"string"==typeof arguments[0]&&_currentKeyframe.setName(arguments[0]):2==arguments.length&&(_currentKeyframe.setName(b),_currentKeyframe.delay(c)),_currentKeyframe},p5.prototype.endKeyframe=function(){_currentKeyframe.updateTweens(),_current.isTimeline()&&_current.add(_currentKeyframe),_currentKeyframe=null},p5.prototype.play=function(){"string"==typeof arguments[0]?b(arguments[0]).play():"object"==typeof arguments[0]?arguments[0].play():_current.play()},p5.prototype.playAll=function(){for(var a=0;a<_motions.length;a++)_motions[a]._hasController||_motions[a].play()},p5.prototype.stop=function(){"string"==typeof arguments[0]?b(arguments[0]).stop():"object"==typeof arguments[0]?arguments[0].stop():_current.stop()},p5.prototype.stopAll=function(){for(var a=0;a<_motions.length;a++)_motions[a]._hasController||_motions[a].stop()},p5.prototype.pause=function(){"string"==typeof arguments[0]?b(arguments[0]).pause():"object"==typeof arguments[0]?arguments[0].pause():_current.pause()},p5.prototype.pauseAll=function(){for(var a=0;a<_motions.length;a++)_motions[a]._hasController||_motions[a].pause()},p5.prototype.resume=function(){"string"==typeof arguments[0]?b(arguments[0]).resume():"object"==typeof arguments[0]?arguments[0].resume():_current.resume()},p5.prototype.resumeAll=function(){for(var a=0;a<_motions.length;a++)_motions[a]._hasController||_motions[a].resume()},p5.prototype.seek=function(){"string"==typeof arguments[0]?b(arguments[0]).seek(arguments[1]):"object"==typeof arguments[0]?arguments[0].seek(arguments[1]):_current.seek(arguments[0])},p5.prototype.seekAll=function(a){for(var b=0;b<_motions.length;b++)_motions[b]._hasController||_motions[b].seek(a)},p5.prototype.repeat=function(){"string"==typeof arguments[0]?b(arguments[0]).repeat(arguments[1]):"object"==typeof arguments[0]?arguments[0].repeat(arguments[1]):_current.repeat(arguments[0])},p5.prototype.repeatAll=function(a){for(var b=0;b<_motions.length;b++)_motions[b]._hasController||_motions[b].repeat(a)},p5.prototype.reverse=function(){"string"==typeof arguments[0]?b(arguments[0]).reverse():"object"==typeof arguments[0]?arguments[0].reverse():_current.reverse()},p5.prototype.reverseAll=function(a){for(var b=0;b<_motions.length;b++)_motions[b]._hasController||_motions[b].reverse(a)},p5.prototype.onStart=function(a){return _current.onStart(a),this},p5.prototype.onEnd=function(a){return _current.onEnd(a),this},p5.prototype.onUpdate=function(a){return _current.onUpdate(a),this},p5.prototype.onRepeat=function(a){return _current.onRepeat(a),this},a.prototype.resume=function(){return this._isPlaying=!0,this._isSeeking=!1,this._playTime=_timeMode==a.SECONDS?millis()-1e3*this._playTime:frameCount-this._playTime,this},a.prototype.updateTime=function(){this._time=(_timeMode==a.SECONDS?(millis()-this._playTime)/1e3:frameCount-this._playTime)*this._timeScale,this._isReversing&&0!==this._reverseTime&&(this._time=this._reverseTime-this._time)},a.ColorProperty=function(b,c,d){a.Property.call(this,b,c,d)},a.ColorProperty.prototype=Object.create(a.Property.prototype),a.ColorProperty.prototype.constrctor=a.ColorProperty,a.ColorProperty.prototype.update=function(a){this._position=a,this._object[this._field]=lerpColor(this._begin,this._end,this._position)},a.VectorProperty=function(b,c,d){a.Property.call(this,b,c,d)},a.VectorProperty.prototype=Object.create(a.Property.prototype),a.VectorProperty.prototype.constrctor=a.VectorProperty,a.VectorProperty.prototype.update=function(a){this._position=a,this._object[this._field]=p5.Vector.lerp(this._begin,this._end,this._position)},a.Tween.prototype.addProperty=function(b,c,d){var e;if("string"==typeof arguments[0]){var f=this._object[arguments[0]];"number"==typeof f?e=new a.NumberProperty(this._object,arguments[0],arguments[1]):f instanceof p5.Color?e=new a.ColorProperty(this._object,arguments[0],arguments[1]):f instanceof p5.Vector?e=new a.VectorProperty(this._object,arguments[0],arguments[1]):console.warn("Only numbers, p5.colors and p5.vectors are supported.")}else{var f=b[c];"number"==typeof f?e=new a.NumberProperty(b,c,d):f instanceof p5.Color?e=new a.ColorProperty(b,c,d):f instanceof p5.Vector?e=new a.VectorProperty(b,c,d):console.warn("Only numbers, p5.colors and p5.vectors are supported.")}return this._properties.push(e),this._propertyMap[e.getField()]=e,this},a.Tween.prototype.add=a.Tween.prototype.addProperty}(MOTION);