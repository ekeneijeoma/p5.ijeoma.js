!function(a,b){REVISION="1",p5.prototype.registerMethod("pre",function(){a.isAutoUpdating&&a.update()}),p5.prototype.createMotion=function(b,c,d){return _current=new a(b,c,d)},p5.prototype.createTween=function(b,c,d,e,f,g){return _current=new a.Tween(b,c,d,e,f,g)},p5.prototype.createParallel=function(b){return _current=new a.Parallel(b)},p5.prototype.createSequence=function(b){return _current=new a.Sequence(b)},p5.prototype.createTimeline=function(b){return _current=new a.Timeline(b)};var c=function(){if("string"==typeof arguments[0])for(var a=0;a<_motions.length;a++)if(_motions.getName()==arguments[0])return _motions[a]};p5.prototype.goto=function(){"number"==typeof arguments[0]?_current=_motions[arguments[0]]:"string"==typeof arguments[0]?_current=c(arguments[0]):"object"==typeof arguments[0]&&(_current=arguments[0])},p5.prototype.timeMode=function(b){return a._timeMode=b,this},p5.prototype.seconds=function(){return a._timeMode=a.SECONDS,this},p5.prototype.frames=function(){return a._timeMode=a.FRAMES,this},_currentEasing=null,p5.prototype.easingMode=function(a){return _currentEasing=a,this},p5.prototype.easing=function(a){return _currentEasing=a,this},_valueMode=null,p5.prototype.relative=function(){return _valueMode=a.RELATIVE,_current&&_current.setValueMode(_valueMode),this},p5.prototype.absolute=function(){return _valueMode=a.ABSOLUTE,_current&&_current.setValueMode(_valueMode),this},_current=null,p5.prototype.tween=function(b,c,d,e,f,g){return t=new a.Tween(b,c,d,e,f,g).setValueMode(_valueMode),_currentEasing&&t.easing(_currentEasing),_current&&!_current.isPlaying()?_current instanceof a.Timeline&&_currentKeyframe?_currentKeyframe.add(t):_current.add(t):_current=t,t},p5.prototype.beginParallel=function(b){return _current=new a.Parallel,"undefined"!=typeof b&&_current.setName(b),_current},p5.prototype.endParallel=function(){_current._updateTweens()},p5.prototype.beginSequence=function(b){return _current=new a.Sequence,"undefined"!=typeof b&&_current.setName(b),_current},p5.prototype.endSequence=function(){_current._updateTweens()},p5.prototype.beginTimeline=function(b){return _current=new a.Timeline,"undefined"!=typeof b&&_current.setName(b),_current},p5.prototype.endTimeline=function(){_current._updateTweens()},_currentKeyframe=null,p5.prototype.beginKeyframe=function(b,c){return _currentKeyframe=new a.Keyframe,1==arguments.length&&"undefined"!=typeof arguments[0]?"number"==typeof arguments[0]?_currentKeyframe.delay(arguments[0]):"string"==typeof arguments[0]&&_currentKeyframe.setName(arguments[0]):2==arguments.length&&(_currentKeyframe.setName(b),_currentKeyframe.delay(c)),_currentKeyframe},p5.prototype.endKeyframe=function(){_currentKeyframe._updateTweens(),_current instanceof a.Timeline&&_current.add(_currentKeyframe),_currentKeyframe=null},p5.prototype.play=function(){"string"==typeof arguments[0]?c(arguments[0]).play():"object"==typeof arguments[0]?arguments[0].play():_current.play()},p5.prototype.playAll=a.playAll,p5.prototype.stop=function(){"string"==typeof arguments[0]?c(arguments[0]).stop():"object"==typeof arguments[0]?arguments[0].stop():_current.stop()},p5.prototype.stopAll=a.stopAll,p5.prototype.pause=function(){"string"==typeof arguments[0]?c(arguments[0]).pause():"object"==typeof arguments[0]?arguments[0].pause():_current.pause()},p5.prototype.pauseAll=a.pauseAll,p5.prototype.resume=function(){"string"==typeof arguments[0]?c(arguments[0]).resume():"object"==typeof arguments[0]?arguments[0].resume():_current.resume()},p5.prototype.resumeAll=a.resumeAll,p5.prototype.seek=function(){"string"==typeof arguments[0]?c(arguments[0]).seek(arguments[1]):"object"==typeof arguments[0]?arguments[0].seek(arguments[1]):_current.seek(arguments[0])},p5.prototype.seekAll=a.seekAll,p5.prototype.repeat=function(){"string"==typeof arguments[0]?c(arguments[0]).repeat(arguments[1]):"object"==typeof arguments[0]?arguments[0].repeat(arguments[1]):_current.repeat(arguments[0])},p5.prototype.repeatAll=a.repeatAll,p5.prototype.reverse=function(){"string"==typeof arguments[0]?c(arguments[0]).reverse():"object"==typeof arguments[0]?arguments[0].reverse():_current.reverse()},p5.prototype.reverseAll=a.reverseAll,p5.prototype.timeScale=function(){"string"==typeof arguments[0]?c(arguments[0]).timeScale(arguments[1]):"object"==typeof arguments[0]?arguments[0].timeScale(arguments[1]):_current.timeScale(arguments[0])},p5.prototype.timeScaleAll=a.seekAll,p5.prototype.onStart=function(a){return _current.onStart(a),this},p5.prototype.onEnd=function(a){return _current.onEnd(a),this},p5.prototype.onUpdate=function(a){return _current.onUpdate(a),this},p5.prototype.onRepeat=function(a){return _current.onRepeat(a),this},a.SECONDS="seconds",a.FRAMES="frames",p5.SECONDS=a.SECONDS,p5.FRAMES=a.FRAMES,a._timeMode=a.FRAMES,a.isAutoUpdating=!0,a.update=function(c){a._time=c!==b?c:a._timeMode==a.SECONDS?millis():frameCount;for(var d=0;d<a._motions.length;d++)a._motions[d]._update()},a.ColorProperty=function(b,c,d){a.Property.call(this,b,c,d)},a.ColorProperty.prototype=Object.create(a.Property.prototype),a.ColorProperty.prototype.constrctor=a.ColorProperty,a.ColorProperty.prototype.update=function(a){this._position=a,this._object[this._field]=lerpColor(this._start,this._end,this._position)},a.VectorProperty=function(b,c,d){a.Property.call(this,b,c,d)},a.VectorProperty.prototype=Object.create(a.Property.prototype),a.VectorProperty.prototype.constrctor=a.VectorProperty,a.VectorProperty.prototype.update=function(a){this._position=a,this._object[this._field]=p5.Vector.lerp(this._start,this._end,this._position)},a.Tween.prototype.addProperty=function(b,c,d){if("object"==typeof arguments[0]){var e=b[c];"number"==typeof e||"undefined"==typeof e?p=new a.NumberProperty(b,c,d):e instanceof p5.Color?p=new a.ColorProperty(b,c,d):e instanceof p5.Vector?p=new a.VectorProperty(b,c,d):console.warn("Only numbers, p5.colors and p5.vectors are supported.")}else{var e=window[arguments[0]];"number"==typeof e||"undefined"==typeof e?p=new a.NumberProperty(arguments[0],arguments[1]):e instanceof p5.Color?p=new a.ColorProperty(arguments[0],arguments[1]):e instanceof p5.Vector?p=new a.VectorProperty(arguments[0],arguments[1]):console.warn("Only numbers, p5.colors and p5.vectors are supported.")}return this._properties.push(p),this._propertyMap[p._field]=p,this},a.Tween.prototype.add=a.Tween.prototype.addProperty}(MOTION);