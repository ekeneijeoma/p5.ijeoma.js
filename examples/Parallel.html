<!DOCTYPE html>
<html lang="en">

<head>
    <title>Tween.js / simplest possible example!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
    <script type="text/javascript" src="p5.js"></script>
    <script type="text/javascript" src="../build/ijeomamotion.js"></script>
    <script type="text/javascript">
    var tp;

    var x1;
    var x2;

    function setup() {
        createCanvas(400, 200);

        ellipseMode(CORNER);
        smooth();

        x1 = -width;
        x2 = width;

        tp = new MOTION.Parallel()
            .add(new MOTION.Tween(this, "x1", width, 100))
            .add(new MOTION.Tween(this, "x2", -width, 200))
            .reverse().repeat()
            .play();   
    }

    function draw() {
        background(255);
 
        stroke(255);
        fill(255 / 2);
        rect(x1, 0, width, height / 2);
        rect(x2, height / 2, width, height / 2);

        var time;

        time = tp.get(0).getTime() + " / " + tp.get(0).getDuration();

        noStroke();
        fill(0);
        text(time, 10, 10 + 12);

        time = tp.get(1).getTime() + " / " + tp.get(1).getDuration(); 

        fill(0);
        text(time, 10, 100 + 10 + 12);

        time = tp.getTime() + " / " + tp.getDuration();

        fill(0);
        text(time, width - textWidth(time) - 10, height - 10);
    }

    function keyPressed() {
        tp.play();
    }

    function mousePressed() {
        tp.pause();
    }

    function mouseReleased() {
        tp.resume();
    }

    function mouseDragged() {
        tp.seek(mouseX / width);
    }
    </script>
</body>

</html>