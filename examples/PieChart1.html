<head>
    <style>
    body {
        padding: 0;
    }
    canvas {
        position: absolute;
        left: 0;
        top: 0;
        z-index: -100
    }
    </style>
</head>

<body>
    <button id="three">Play</button>
    <button id="stop">Stop</button>
    <button id="time"></button>
    <button>Click and drag left to right to scrub</button>

    <script language="javascript" src="js/p5.js"></script>
    <script language="javascript" src="js/ijeomamotion.js"></script>
    <script language="javascript" src="../build/p5.ijeomamotion.js"></script>
    <script language="javascript">  
    var angles = [30, 10, 45, 35, 60, 38, 75, 67];

    var m; 

    function setup() {
        createCanvas(720, 400);
        noStroke();
 
        motion = createMotion(50, 0, Quad.InOut)
        repeat();
        reverse();
        play();
    }

    function draw() {
        background(100);
 
        pieChart(300, angles, motion.position()); 

        document.getElementById('time').innerHTML = motion.getTime()+'/'+motion.getDuration();
    }

    function pieChart(diameter, data, t) {
        var lastAngle = 0;
        for (var i = 0; i < data.length; i++) {
            var gray = map(i, 0, data.length, 0, 255);
            fill(gray);
            arc(width / 2, height / 2, diameter*t, diameter*t, lastAngle, lastAngle + radians(angles[i] * t));
            lastAngle += radians(angles[i]);
        }
    }
    </script> 
</body>
