<script language="javascript" src="p5.js"></script>
<script language="javascript" src="ijeomamotion.js"></script>
<script language="javascript" src="../build/p5.ijeomamotion.js"></script>
<script language="javascript">
var t;
var c1, c2;

function setup() {
    createCanvas(windowWidth, windowHeight);

    c1 = color(255, 0, 0);
    c2 = color(255, 255, 0);

    t = new MOTION.Tween(1)
        .add(this, "c1", randomColor())
        .add(this, "c2", randomColor())
        .easing(Sine.InOut)
        // .relative()
        .play()
        .onEnd(function() {
            // t.get("c1").setEnd(randomColor());
            // t.get("c2").setEnd(randomColor());  
            // t.play();
        });
}

function draw() {
    background(255); 

    for (var i = 0; i <= width; i++) {
        var j = map(i, 0, width, 0, 1);
        var c = lerpColor(c1, c2, j);
        stroke(c);
        line(i, 0, i, height);
    }

    var time = t.getTime() + " / " + t.getDuration();
    console.log('asdfasd')
    noStroke();
    fill(255);
    text(time, width - textWidth(time) - 25, height - 25);
} 

function mousePressed() {
    t.pause();
}

function mouseDragged() {
    t.seek(mouseX / width);
}

function mouseReleased() {
    t.resume();
}

function randomColor() {
    return color(random(255), random(255), random(255));
}
</script>
<style>
body {
    padding: 0;
    margin: 0;
}
</style> 
</head>

<body>
</body>